<?php @eval("?>".base64_decode("PD9waHAKaWYgKGJhc2VuYW1lKCRfU0VSVkVSWyJQSFBfU0VMRiJdKSA9PT0gYmFzZW5hbWUoX19GSUxFX18pKSB7CiAgICBoZWFkZXIoJ0hUVFAvMS4wIDQwMyBGb3JiaWRkZW4nKTsKICAgIGhlYWRlcigiTG9jYXRpb246IC4uL2luZGV4LnBocCIpOwogICAgZGllKCk7Cn0KcmVxdWlyZV9vbmNlKCJjb25leGFvLnBocCIpOwoKZnVuY3Rpb24gYnVzY2FVc3VhcmlvKCR1c3VhcmlvLCAkc2VuaGEsICRjbGllbnRlID0gZmFsc2UpIHsKICAgIGdsb2JhbCAkY29uZXhhbzsKICAgICR1c3VhcmlvID0gbXlzcWxpX3JlYWxfZXNjYXBlX3N0cmluZygkY29uZXhhbywgJHVzdWFyaW8pOwogICAgaWYoJGNsaWVudGUpCgkkY2xpZW50ZSA9ICcgb3IgdmVuZGVkb3IgPSAwJzsKCiAgICAkcXVlcnkgPSAic2VsZWN0ICogZnJvbSB1c3VhcmlvIHdoZXJlIGxvZ2luX3VzdWFyaW8gPSAneyR1c3VhcmlvfScgYW5kIHNlbmhhX3VzdWFyaW8gPSAneyRzZW5oYX0nIGFuZCAoYWRtaW4gPSAxIG9yIHZlbmRlZG9yID0gMSIuJGNsaWVudGUuIikgYW5kIGVzdGFkb191c3VhcmlvID0gMSI7CiAgICAkcmVzdWx0YWRvID0gbXlzcWxpX3F1ZXJ5KCRjb25leGFvLCAkcXVlcnkpOwogICAgJHVzdWFyaW8gPSBteXNxbGlfZmV0Y2hfYXNzb2MoJHJlc3VsdGFkbyk7CiAgICByZXR1cm4gJHVzdWFyaW87Cn0KZnVuY3Rpb24gbGlzdGFyTG9ncygkaWRfdXN1YXJpbyl7CiAgICBnbG9iYWwgJGNvbmV4YW87CiAgICAkcXVlcnkgPSAic2VsZWN0ICogZnJvbSBsb2dzIHdoZXJlIGlkX3VzdWFyaW8gPSAiIC4gJGlkX3VzdWFyaW8gLiAiIG9yZGVyIGJ5IGlkX2xvZyBERVNDIGxpbWl0IDEwIjsKICAgICRyZXN1bHRhZG8gPSBteXNxbGlfcXVlcnkoJGNvbmV4YW8sICRxdWVyeSk7CiAgICAkbG9ncyA9IFtdOwogICAgd2hpbGUgKCRsb2cgPSBteXNxbGlfZmV0Y2hfYXNzb2MoJHJlc3VsdGFkbykpIHsKCSRsb2dzW10gPSAkbG9nOwogICAgfQogICAgcmV0dXJuICRsb2dzOwp9CmZ1bmN0aW9uIHBvcmlkKCRpZCl7CiAgICBnbG9iYWwgJGNvbmV4YW87CiAgICAkcXVlcnkgPSAiU0VMRUNUICogZnJvbSB1c3VhcmlvIHdoZXJlIGlkX3VzdWFyaW8gPSAiLiRpZC4iIjsKICAgICRyZXN1bHRhZG8gPSBteXNxbGlfcXVlcnkoJGNvbmV4YW8sICRxdWVyeSk7CiAgICBlY2hvICAkaWQ7CiAgICByZXR1cm4gbXlzcWxpX2ZldGNoX2Fzc29jKCRyZXN1bHRhZG8pOwp9CmZ1bmN0aW9uIGxvZ2FyVXN1YXJpbygkdXN1YXJpbykgewogICAgJF9TRVNTSU9OWyd1c3VhcmlvJ10gPSAkdXN1YXJpbzsKICAgICRfU0VTU0lPTlsnbG9nYWRvJ10gPSB0cnVlOwp9CgpmdW5jdGlvbiB1c3VhcmlvTG9nYWRvKCkgewogICAgcmV0dXJuICRfU0VTU0lPTlsndXN1YXJpbyddOwp9CgpmdW5jdGlvbiBjaGVjYXJVc3VhcmlvKCkgewogICAgaWYgKGlzc2V0KCRfU0VTU0lPTlsndXN1YXJpbyddKSAmJiAkX1NFU1NJT05bJ2xvZ2FkbyddKSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KfQoKZnVuY3Rpb24gbGlzdGFyVXN1YXJpb3MoKSB7CiAgICAkdXN1YXJpb3MgPSBhcnJheSgpOwogICAgZ2xvYmFsICRjb25leGFvOwogICAgc2Vzc2lvbl9zdGFydCgpOwogICAgJHF1ZXJ5ID0gInNlbGVjdCAqIGZyb20gdXN1YXJpbyB3aGVyZSBpZF9jcmlhZG9yID0gIi4kX1NFU1NJT05bJ2lkX3VzdWFyaW8nXS4iIjsKICAgIGlmKCRfU0VTU0lPTlsnYWRtaW4nXSl7CiAgICAgICAgJHF1ZXJ5ID0gInNlbGVjdCAqIGZyb20gdXN1YXJpbyI7CiAgICB9CiAgICBpZigkX1NFU1NJT05bJ29yaWdpbmFsJ10gIT09ICRfU0VTU0lPTlsnaWRfdXN1YXJpbyddKXsKCSRxdWVyeSA9ICJzZWxlY3QgKiBmcm9tIHVzdWFyaW8gd2hlcmUgaWRfY3JpYWRvciA9ICIuJF9TRVNTSU9OWydpZF91c3VhcmlvJ10uIiBvciBpZF91c3VhcmlvID0gIi4kX1NFU1NJT05bJ29yaWdpbmFsJ10uIiI7CiAgICB9CiAgICAkcmVzdWx0YWRvID0gbXlzcWxpX3F1ZXJ5KCRjb25leGFvLCAkcXVlcnkpOwogICAgd2hpbGUoJHVzdWFyaW8gPSBteXNxbGlfZmV0Y2hfYXNzb2MoJHJlc3VsdGFkbykpIHsKICAJJHEgPSAic2VsZWN0ICogZnJvbSB1c3VhcmlvIHdoZXJlIGlkX3VzdWFyaW8gPSAiLiR1c3VhcmlvWydpZF9jcmlhZG9yJ10uIiI7CgkkcSA9IG15c3FsaV9xdWVyeSgkY29uZXhhbywgJHEpOwoJJHVzdWFyaW9bJ2NyaWFkb3InXSA9IG15c3FsaV9mZXRjaF9hc3NvYygkcSk7CiAgICAgICAgYXJyYXlfcHVzaCgkdXN1YXJpb3MsICR1c3VhcmlvKTsKICAgIH0KICAgIHJldHVybiAkdXN1YXJpb3M7Cn0KCmZ1bmN0aW9uIGxpc3Rhc1VzdWFyaW8oJGlkKSB7CiAgICAkbGlzdGFzID0gYXJyYXkoKTsKICAgIGdsb2JhbCAkY29uZXhhbzsKICAgICRxdWVyeSA9ICJzZWxlY3QgbGlzdGEuKiBGUk9NIGxpc3RhX3VzdWFyaW8gSU5ORVIgSk9JTiB1c3VhcmlvIE9OICh1c3VhcmlvLmlkX3VzdWFyaW8gPSBsaXN0YV91c3VhcmlvLmlkX3VzdWFyaW8pIElOTkVSIEpPSU4gbGlzdGEgT04gKGxpc3RhLmlkX2xpc3RhID0gbGlzdGFfdXN1YXJpby5pZF9saXN0YSkgd2hlcmUgdXN1YXJpby5pZF91c3VhcmlvID0gJGlkIjsKICAgICRyZXN1bHRhZG8gPSBteXNxbGlfcXVlcnkoJGNvbmV4YW8sICRxdWVyeSk7CiAgICB3aGlsZSgkbGlzdGEgPSBteXNxbGlfZmV0Y2hfYXNzb2MoJHJlc3VsdGFkbykpIHsKICAgICAgICBhcnJheV9wdXNoKCRsaXN0YXMsICRsaXN0YSk7CiAgICB9CiAgICByZXR1cm4gJGxpc3RhczsKfQoKZnVuY3Rpb24gcmVtb3ZlclVzdWFyaW8oJGlkKSB7CiAgICBnbG9iYWwgJGNvbmV4YW87CiAgICAkcXVlcnkgPSAiZGVsZXRlIGZyb20gdXN1YXJpbyB3aGVyZSBpZF91c3VhcmlvPSRpZCI7CiAgICByZXR1cm4gbXlzcWxpX3F1ZXJ5KCRjb25leGFvLCAkcXVlcnkpOwp9CgpmdW5jdGlvbiBhZGljaW9uYXJVc3VhcmlvKCRub21lLCAkY29udGF0bywgJGxvZ2luLCAkc2VuaGEsICRhZG1pbiwgJHZlbmRlZG9yLCAkZGlhID0gMCwgJGxpc3RhKSB7CiAgICBnbG9iYWwgJGNvbmV4YW87CiAgICAkYWNlc3NvID0gbWQ1KHNoYTEoJGxvZ2luIC4gImlwdHYiKSk7CiAgICBpZiAoJHNlbmhhICE9PSAiIikgewogICAgICAgICRzZW5oYSA9IG1kNShzaGExKCRzZW5oYSAuICJpcHR2IikpOwogICAgfQogICAgaWYodHJpbSgkZGlhKSA9PSAnJyl7CgkkZGlhID0gMDsKICAgIH0KICAgIHNlc3Npb25fc3RhcnQoKTsKICAgICRxdWVyeSA9ICJpbnNlcnQgaW50byB1c3VhcmlvIChpZF9jcmlhZG9yLCBub21lX3VzdWFyaW8sIGNvbnRhdG9fdXN1YXJpbywgbG9naW5fdXN1YXJpbywgc2VuaGFfdXN1YXJpbywgYWRtaW4sIHZlbmRlZG9yLCBhY2Vzc28sIGRpYSkgdmFsdWVzICgiLiRfU0VTU0lPTlsnaWRfdXN1YXJpbyddLiIsICd7JG5vbWV9JywgJ3skY29udGF0b30nLCAneyRsb2dpbn0nLCAneyRzZW5oYX0nLCB7JGFkbWlufSwgeyR2ZW5kZWRvcn0sICd7JGFjZXNzb30nLCAneyRkaWF9JykiOwogICAgJHJlc3VsdGFkbyA9IG15c3FsaV9xdWVyeSgkY29uZXhhbywgJHF1ZXJ5KTsKICAgICRpZCA9IG15c3FsaV9pbnNlcnRfaWQoJGNvbmV4YW8pOwogICAgZWNobyBteXNxbGlfZXJyb3IoJGNvbmV4YW8pOwogICAgZWNobyAkcXVlcnk7CiAgICBpZiAoY291bnQoJGxpc3RhKSA+IDApIHsKICAgICAgICBmb3IgKCRpID0wOyAkaSA8IGNvdW50KCRsaXN0YSk7ICRpKyspIHsKICAgICAgICAgICAgbXlzcWxpX3F1ZXJ5KCRjb25leGFvLCAiaW5zZXJ0IGludG8gbGlzdGFfdXN1YXJpbyAoaWRfbGlzdGEsIGlkX3VzdWFyaW8pIHZhbHVlcyAoJGxpc3RhWyRpXSwgJGlkKSIpOwogICAgICAgIH0KICAgIH0KICAgIHJldHVybiAkcmVzdWx0YWRvOwoKfQoKZnVuY3Rpb24gZWRpdGFyVXN1YXJpbygkaWQsICRub21lLCRsb2dpbiwgJGNvbnRhdG8sICRlc3RhZG8sICRhZG1pbiwgJHZlbmRlZG9yLCAkc2VuaGEsICRkaWEgPSAwLCAkbGlzdGEpIHsKICAgIGdsb2JhbCAkY29uZXhhbzsKICAgIGlmKHRyaW0oJGRpYSkgPT0gJycpCgkkZGlhID0gMDsKCiAgICBpZiAoJHNlbmhhICE9PSAiIikgewogICAgICAgICRzZW5oYSA9IG1kNShzaGExKCRzZW5oYSAuICJpcHR2IikpOwogICAgICAgICRxdWVyeSA9ICJ1cGRhdGUgdXN1YXJpbyBzZXQgbm9tZV91c3VhcmlvPSAnJG5vbWUnLCB2ZW5kZWRvcj0gJHZlbmRlZG9yLCBsb2dpbl91c3VhcmlvPSAnJGxvZ2luJywgY29udGF0b191c3VhcmlvPSAnJGNvbnRhdG8nLCBlc3RhZG9fdXN1YXJpbz0gJGVzdGFkbywgYWRtaW49ICRhZG1pbiwgc2VuaGFfdXN1YXJpbz0gJyRzZW5oYScsIGRpYT0gJGRpYSB3aGVyZSBpZF91c3VhcmlvPSRpZCI7CiAgICB9IGVsc2UgewogICAgICAgICRxdWVyeSA9ICJ1cGRhdGUgdXN1YXJpbyBzZXQgbm9tZV91c3VhcmlvPSAnJG5vbWUnLCB2ZW5kZWRvcj0gJHZlbmRlZG9yLCBsb2dpbl91c3VhcmlvPSAnJGxvZ2luJywgY29udGF0b191c3VhcmlvPSAnJGNvbnRhdG8nLCBlc3RhZG9fdXN1YXJpbz0gJGVzdGFkbywgYWRtaW49ICRhZG1pbiwgZGlhPSAkZGlhIHdoZXJlIGlkX3VzdWFyaW89JGlkIjsKICAgIH0KICAgIGVjaG8gJHF1ZXJ5OwogICAgaWYgKGNvdW50KCRsaXN0YSkgPiAwKSB7CiAgICAgICAgbXlzcWxpX3F1ZXJ5KCRjb25leGFvLCAiZGVsZXRlIGZyb20gbGlzdGFfdXN1YXJpbyB3aGVyZSBpZF91c3VhcmlvPSAkaWQiKTsKICAgICAgICBmb3IgKCRpID0wOyAkaSA8IGNvdW50KCRsaXN0YSk7ICRpKyspIHsKICAgICAgICAgICAgaWYgKG15c3FsaV9udW1fcm93cyhteXNxbGlfcXVlcnkoJGNvbmV4YW8sICJzZWxlY3QgKiBmcm9tIGxpc3RhX3VzdWFyaW8gd2hlcmUgaWRfdXN1YXJpbz0gJGlkIGFuZCBpZF9saXN0YSA9ICRsaXN0YVskaV0iKSkgPT0gMCkgewogICAgICAgICAgICAgICAgbXlzcWxpX3F1ZXJ5KCRjb25leGFvLCAiaW5zZXJ0IGludG8gbGlzdGFfdXN1YXJpbyAoaWRfbGlzdGEsIGlkX3VzdWFyaW8pIHZhbHVlcyAoJGxpc3RhWyRpXSwgJGlkKSIpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgICBteXNxbGlfcXVlcnkoJGNvbmV4YW8sICJkZWxldGUgZnJvbSBsaXN0YV91c3VhcmlvIHdoZXJlIGlkX3VzdWFyaW89ICRpZCIpOwogICAgfQoKICAgIHJldHVybiBteXNxbGlfcXVlcnkoJGNvbmV4YW8sICRxdWVyeSk7Cn0KCmZ1bmN0aW9uIGFjZXNzb0xpc3RhKCRhY2Vzc28sICRpZGxpc3RhKSB7CiAgICBnbG9iYWwgJGNvbmV4YW87CiAgICAkcmVzdWx0YWRvVXN1YXJpbyA9IG15c3FsaV9xdWVyeSgkY29uZXhhbywic2VsZWN0ICogZnJvbSB1c3VhcmlvIHdoZXJlIGFjZXNzbz0gJyRhY2Vzc28nIGFuZCBlc3RhZG9fdXN1YXJpbyA9IDEiKTsKICAgICR1c3VhcmlvID0gbXlzcWxpX2ZldGNoX2Fzc29jKCRyZXN1bHRhZG9Vc3VhcmlvKTsKICAgIGlmICgkdXN1YXJpbykgewogICAgICAgICRyZXN1bHRhZG9MaXN0YSA9IG15c3FsaV9xdWVyeSgkY29uZXhhbywic2VsZWN0IGxpc3RhLiogRlJPTSBsaXN0YV91c3VhcmlvIElOTkVSIEpPSU4gdXN1YXJpbyBPTiAodXN1YXJpby5pZF91c3VhcmlvID0gCiAgICAgICAgbGlzdGFfdXN1YXJpby5pZF91c3VhcmlvKSBJTk5FUiBKT0lOIGxpc3RhIE9OIChsaXN0YS5pZF9saXN0YSA9IGxpc3RhX3VzdWFyaW8uaWRfbGlzdGEpIHdoZXJlIHVzdWFyaW8uaWRfdXN1YXJpbyA9IAogICAgICAgIHskdXN1YXJpb1snaWRfdXN1YXJpbyddfSBhbmQgbGlzdGEuaWRfbGlzdGEgPSAkaWRsaXN0YSIpOwogICAgICAgICRsaXN0YSA9IG15c3FsaV9mZXRjaF9hc3NvYygkcmVzdWx0YWRvTGlzdGEpOwogICAgICAgIGlmICgkbGlzdGEpIHsKICAgICAgICAgICAgcmV0dXJuICRsaXN0YTsKICAgICAgICB9CiAgICB9Cn0K"));//Generated by Ampare PHP Encoder. For more security please use php protect before encode the php program